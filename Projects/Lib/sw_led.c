
#include <hidef.h>      /* common defines and macros */
#include "derivative.h" /* derivative-specific definitions */

#include "sw_led.h"

// other includes, as *required* for this implementation

/////////////////////////////////////////////////////////////////////////////
// local prototypes
/////////////////////////////////////////////////////////////////////////////

/////////////////////////////////////////////////////////////////////////////
// library variables
/////////////////////////////////////////////////////////////////////////////

/////////////////////////////////////////////////////////////////////////////
// constants
/////////////////////////////////////////////////////////////////////////////

/////////////////////////////////////////////////////////////////////////////
// function implementations
/////////////////////////////////////////////////////////////////////////////

// init - must be called to init port PT1AD1
void SWL_Init(void)
{
    PT1AD1 &= 0x1F;
    DDR1AD1 = 0xE0;
    ATD1DIEN1 |= 0x1F;
}

//switche on the led
void SWL_ON(SWL_LEDColour led)
{
    PT1AD1 |= led;
}

//switches off the led
void SWL_OFF(SWL_LEDColour led)
{
    PT1AD1 &= ~led;
}

//toggles the led
void SWL_TOG(SWL_LEDColour led)
{
    PT1AD1 ^= led;
}

// is a specific switch being pushed (T/F (1/0))
int SWL_Pushed (SWL_SwitchPos pos){
    return PT1AD1 & pos;
}

// is any switch being pushed (T/F (1/0))
int SWL_Any (void){
    return PT1AD1 & 0b00011111;
}